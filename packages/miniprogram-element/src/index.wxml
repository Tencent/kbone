<import src="./template/subtree.wxml"/> <import src="./template/subtree-cover.wxml"/> <!-- 视图容器 --> <cover-view wx:if="{{wxCompName === 'cover-view'}}" id="{{id}}" class="{{className}}" style="{{style}}" hidden="{{hidden}}" scroll-top="{{scrollTop}}" ><template is="subtree-cover" data="{{childNodes: childNodes}}"/></cover-view> <scroll-view wx:elif="{{wxCompName === 'scroll-view'}}" id="{{id}}" class="{{className}}" style="{{style}}" hidden="{{hidden}}" scroll-x="{{scrollX}}" scroll-y="{{scrollY}}" upper-threshold="{{upperThreshold}}" lower-threshold="{{lowerThreshold}}" scroll-top="{{scrollTop}}" scroll-left="{{scrollLeft}}" scroll-into-view="{{scrollIntoView}}" scroll-with-animation="{{scrollWithAnimation}}" enable-back-to-top="{{enableBackToTop}}" enable-flex="{{enableFlex}}" scroll-anchoring="{{scrollAnchoring}}" refresher-enabled="{{refresherEnabled}}" refresher-threshold="{{refresherThreshold}}" refresher-default-style="{{refresherDefaultStyle}}" refresher-background="{{refresherBackground}}" refresher-triggered="{{refresherTriggered}}" bindscrolltoupper="onScrollViewScrolltoupper" bindscrolltolower="onScrollViewScrolltolower" bindscroll="onScrollViewScroll" bindrefresherpulling="onScrollViewRefresherPulling" bindrefresherrefresh="onScrollViewRefresherRefresh" bindrefresherrestore="onScrollViewRefresherRestore" bindrefresherabort="onScrollViewRefresherAbort" ><template is="subtree" data="{{childNodes: childNodes, inCover}}"/></scroll-view> <view wx:elif="{{wxCompName === 'view'}}" id="{{id}}" class="{{className}}" style="{{style}}" hidden="{{hidden}}" hover-class="{{hoverClass}}" hover-stop-propagation="{{hoverStopPropagation}}" hover-start-time="{{hoverStartTime}}" hover-stay-time="{{hoverStayTime}}" ><template is="subtree" data="{{childNodes: childNodes, inCover}}"/></view> <!-- 表单组件 --> <picker-view wx:elif="{{wxCompName === 'picker-view'}}" id="{{id}}" class="{{className}}" style="{{style}}" hidden="{{hidden}}" value="{{value}}" indicator-style="{{indicatorStyle}}" indicator-class="{{indicatorClass}}" mask-style="{{maskStyle}}" mask-class="{{maskClass}}" bindchange="onPickerViewChange" bindpickstart="onPickerViewPickstart" bindpickend="onPickerViewPickend" ><block wx:for="{{childNodes}}" wx:key="nodeId"> <picker-view-column wx:if="{{item.type === 'element' && item.compName === 'picker-view-column'}}" data-private-node-id="{{item.nodeId}}" data-private-page-id="{{item.pageId}}" id="{{item.id}}" class="{{item.className || ''}}" style="{{item.style || ''}}" bindtouchstart="onTouchStart" bindtouchmove="onTouchMove" bindtouchend="onTouchEnd" bindtouchcancel="onTouchCancel" bindtap="onTap" bindlongpress="onLongPress" hidden="{{item.extra.hidden}}" ><template is="subtree" data="{{childNodes: item.childNodes, inCover}}"/></picker-view-column> </block></picker-view> <!-- 基础内容 --> <text wx:elif="{{wxCompName === 'text'}}" id="{{id}}" class="{{className}}" style="{{style}}" hidden="{{hidden}}" selectable="{{selectable}}" space="{{space}}" decode="{{decode}}" ><template is="subtree" data="{{childNodes: childNodes, inCover}}"/></text> <!-- 其他 --> <block wx:elif="{{wxCompName === 'not-support'}}" >{{content}}</block> <!-- 自定义组件 --> <custom-component wx:elif="{{!!wxCustomCompName}}" name="{{wxCustomCompName}}" data-private-node-id="{{nodeId}}" data-private-page-id="{{pageId}}" ><template is="subtree" data="{{childNodes: childNodes, inCover}}"/></custom-component> <!-- 子节点 --> <template wx:elif="{{inCover === true}}" is="subtree-cover" data="{{childNodes, inCover}}"></template> <template wx:else is="subtree" data="{{childNodes, inCover}}"></template>